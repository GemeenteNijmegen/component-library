<script>
    var autocomplete = new Autocomplete();

    $(document).ready(function () {
        autocomplete.init(getAutocompleteResults, '?q={query}');
    });

    function getAutocompleteResults(query, callback) {
        var rawResults = [
            { header: 'Zoekresultaten:' },
            { title: 'Finibus<em>' + query + '</em>', url: '?q=1_' + query },
            { title: '<em>' + query + '</em>elementum urna', url: '?q=2_' + query },
            { header: 'Zoeksuggesties:' },
            { title: 'Blandit aliquet<em>' + query + '</em>', url: '?q=3_' + query, class: 'search' },
            { title: query, url: '?q=4_' + query, class: 'search' }
        ];

        var results = rawResults
            .slice(0, Math.ceil(Math.random() * 6));
        if (results[results.length - 1].header) {
            results.pop();
        }
        callback(results);
    }
</script>
