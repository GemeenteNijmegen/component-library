<script>
    var autocomplete = new Autocomplete();

    $(document).ready(function () {
        autocomplete.init(getAutocompleteResults)
    })

    function getAutocompleteResults(query, callback) {
        var rawResults = [
            'Finibus<em>' + query + '</em>',
            '<em>' + query + '</em>elementum urna',
            'Blandit aliquet<em>' + query + '</em>',
            query
        ];
        var results = rawResults
            .slice(0, query.length)
            .map(function (result) {
                return {
                    title: result,
                    url: '?q=' + query
                }
            });

        if (results.length === 0) {
            callback(results);
            return;
        }
        results[0].class = 'search';
        callback(results);
    }
</script>
