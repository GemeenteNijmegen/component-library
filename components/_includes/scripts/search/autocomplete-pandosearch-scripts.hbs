<script>
    var autocomplete = new Autocomplete();
    $(document).ready(function () {
        autocomplete.init(getAutocompleteResults)
    })

    function getAutocompleteResults(query, callback) {
        $.get('https://public.pandosearch.com/nijmegen.nl/suggest?q=' + query, function (rawResults) {
            var results = rawResults.suggestions
                .map(result => ({
                    title: result.text,
                    url: '/searchResults?q=' + result.text
                }));
            results.push({
                title: query,
                url: '/searchResults?q=' + query
            });
            callback(results);
        });
    }
</script>
